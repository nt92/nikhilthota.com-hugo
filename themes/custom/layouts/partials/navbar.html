<!-- src: https://blog.christopherianmurphy.com/2017/05/expand-collapse-navbar/ -->
<nav id="navbar">
    <div class="navbar_container">
          <a href="/" class="image_link avatar_link"
              ><img class="nikhil mini" src="{{ "images/nikhil-v2-fade-small.png" | absURL}}"
          /></a>
          <a href="/" class="navbar_link"><h2>{{.Site.Title}}</h2></a>
      <div class="navbar_actions">
        <a href="/writing" class="image_link"><span>writing</span> <b class="navbar_emoji">✍🏽</b></a>
        <a href="/travel" class="image_link"><span>travel</span> <b class="navbar_emoji">🌎</b></a>
        <!-- <a href="/books"><span>books</span> <b>📚</b></a> -->
        <a href="/notes" class="image_link"><span>notes</span> <b class="navbar_emoji">📝</b></a>
        <a href="/projects" class="image_link"><span>projects</span> <b class="navbar_emoji">⚒️</b></a>
    </div>
    </div>
    <script>
      // Store navbar classes
      var navbarElem = document.getElementById("navbar");
      var navClasses = navbarElem.classList;
      var navbarHeight = navbarElem.clientHeight;
  
      function downAction() {
        navClasses.remove("open");
        navClasses.add("collapse");
      }
  
      function upAction() {
        navClasses.remove("collapse");
        navClasses.add("open");
      }
  
      // returns current scroll position
      var scrollTop = function() {
        return window.scrollY;
      };
  
      // Initial scroll position
      var scrollState = 0;
  
      // Primary scroll event function
      var scrollDetect = function(down, up) {
        // Current scroll position
        var currentScroll = scrollTop();
        if (currentScroll > scrollState && currentScroll > navbarHeight / 3) {
          down();
        } else if (currentScroll < scrollState) {
          up();
        }
        // Set previous scroll position
        scrollState = scrollTop();
      };
      window.addEventListener("scroll", function() {
        scrollDetect(downAction, upAction);
      });
    </script>
  </nav>